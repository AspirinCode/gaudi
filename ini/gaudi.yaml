# GAUDI internals
general:
    outputpath: /path/to/output/
    name: nickel
    precision: 2
    compress: 1

ga:
    pop: 100
    gens: 10
    mu: 0.75
    lambda_: 0.75
    mut_eta: 5
    mut_pb: 0.10
    mut_indpb: 0.05
    cx_eta: 5
    cx_pb: 0.8
    pareto: 1
    history: 0

search:
    origin: 0
    radius: 0

###
# GENOME
###
genes: 
    -   name: Protein
        type: molecule
        path: /path/to/protein.mol2

    -   name: Ligand
        type: molecule
        path: /path/to/ligand.mol2/or/block/containing/dir/
        symmetry: [[ dirA, dirB ]]

    -   name: Rotamers
        type: rotamers
        residues: [ $Protein$/233, $Protein$/109]
        library: { dynameomics | dunbrack }
        mutations: []

    -   name: Normal Modes
        type: normalmodes
        target: protein

    -   name: Torsion
        type: torsion
        target: Ligand
        flexibility: 360

    -   name: Search
        type: search
        origin: $Protein$/DUM
        radius: 5.0

    -   name: Covalent Search
        type: search_covalent  
        bond:   - [ $Ligand$/DUM, $Protein$/136 ]
                - [ $Ligand$/END, $Protein$/145 ]

###
# OBJECTIVES
###
objectives:
    -   name: Hbonds
        type: hbonds
        weight: 1.0
        distance_tolerance: 0.4
        angle_tolerance: 20.0

    -   name: Clashes
        type: contacts
        which: clashes #or hydrophobic
        weight: -1.0
        test: ligand
        threshold: 0.6
        threshold_h: 0.2
        threshold_c: 0.6
        cutoff: 100.0

    -   name: DistanceAB
        type: distance
        weight: -1.0
        threshold: covalent #or <n>
        tolerance: -0.1
        target: 929
        probes: [last] # or serialNumber

    -   name: AngleABC
        type: angle 
        weight: -1.0
        threshold: 90.0 #degrees or 'planar'
        # serialnumbers, 3 for angle, 4 for dihedral
        # Careful, input order DOES matter
        target: [ $Protein$/123, $Protein$/456, $Ligand$/789, $Ligand$/123]


    -   name: Coordination_RMSD
        type: coordinationrmsd
        weight: -1.0
        target: 'ligand' #also: <serialNumber>, 'auto'
        geometries: ['tetrahedral'] # check MetalGeom.geomData.geometries.keys()
        min_atoms: 2 # coordination must have at least min_atoms ligating atoms
        atom_types: [ 'ND1', 'NE2', 'OD1','OD2', 'O', 'OE1', 'OE2', 'OG1' ]
        radius: 2.5 # search radius from metal position
        threshold: 1.0 # max admitted RMSD